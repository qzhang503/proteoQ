rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
temp_cus <- add_custom_entrez(acc_lookup, acc_type, entrez)
temp_def <- add_entrez(acc_lookup)
View(temp_cus)
View(temp_def)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\my_mouse.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
temp1 = add_entrez(acc_lookup)
temp2 = add_custom_entrez(acc_lookup, acc_type, entrez)
View(temp1)
View(temp2)
View(acc_lookup)
acc_lookup <- acc_lookup %>% mutate(species = "Dog")
View(acc_lookup)
temp1 <- add_entrez(acc_lookup)
temp2 = add_custom_entrez(acc_lookup, acc_type, entrez)
View(temp1)
View(temp2)
View(temp1)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?load_expts
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?load_expts
system.file("extdata", "mascot_psm_keys.txt", package = "proteoQ")
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?load_expts
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?load_expts
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?purgePSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?load_expts
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?load_expts
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?normPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?purgePep
?purgePSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?PSM2Pep
?mergePep
?Pep2Prn
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?standPrn
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnHist
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnMDS
?prnPCA
?prnEucDist
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnCorr_logFC
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnHM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnSig
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnVol
?gspaMap
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?anal_prnTrend
?plot_prnTrend
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?plot_metaNMF
?anal_prnNMF
?plot_prnNMFCon
?plot_prnNMFCoef
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnGSPA
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnGSVA
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnGSEA
?anal_prnString
setwd("C:\\Results\\R\\proteoQ")
library(devtools)
document()
install()
library(proteoQ)
?prepEntrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepEntrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepEntrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepEntrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepEntrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepEntrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepEntrez
?labEffPSM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
dat_dir <- c("C:\\Results\\Semenkovich\\038") # the WORKING directory
load_expts()
labEffPSM()
load_expts()
labEffPSM()
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
dat_dir <- c("C:\\Results\\Semenkovich\\038") # the WORKING directory
load_expts()
?labEffPSM
labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
View(acc_lookup)
entrez
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
force(entrez)
labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
res <- labEffPSM(
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
)
res
foo_combine_codes <- function () {
filepath <- file.path("C:\\Results\\R\\proteoQ\\R")
filenames <- dir(filepath, pattern = ".R$")
dir.create(file.path(filepath, "temp"))
map(file.path(filepath, filenames), readLines) %>%
reduce(`c`, init = NULL) %>%
writeLines(file.path(filepath, "temp\\all.R"))
}
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
fasta_smry <- dplyr::bind_cols(
prot_acc = names(fasta),
prot_desc = seqinr::getAnnot(fasta) %>%
purrr::map(., `[[`, 1) %>%
unlist(),
prot_mass = purrr::map_dbl(fasta, ~ {seqinr::getSequence(.x) %>% seqinr::pmw()}),
prot_len = getLength(fasta)
) %>%
dplyr::filter(!duplicated(.$prot_acc)) %>%
dplyr::mutate(acc_type = acc_type) %>%
dplyr::mutate(prot_mass = round(prot_mass, digits = 0))
View(fasta_smry)
if (acc_type %in% c("uniprot_acc", "uniprot_id")) {
fasta_smry <- fasta_smry %>%
dplyr::mutate(prot_desc = gsub("^.*\\|.*\\s+?", "", prot_desc))
} else if (acc_type == "refseq_acc") {
fasta_smry <- fasta_smry %>%
dplyr::mutate(prot_desc = gsub("^.*_.*\\s+?", "", prot_desc))
}
acc_lookup <- acc_lookup %>%
dplyr::mutate(!!acc_type := as.character(!!rlang::sym(acc_type)))
View(acc_lookup)
View(acc_lookup)
temp = fasta_smry %>%
dplyr::left_join(acc_lookup, by = c("prot_acc" = acc_type))
View(temp)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
View(acc_lookup)
View(acc_lookup)
View(acc_lookup)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
View(entrez)
View(acc_lookup)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
View(entrez)
View(acc_lookup)
acc_type
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
load_expts()
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
str(acc_lookup)
str(acc_lookup)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
acc_type
acc_lookup <- acc_lookup %>%
dplyr::mutate(uniprot_acc = as.character(uniprot_acc))
str(acc_lookup)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
View(acc_lookup)
View(acc_lookup)
View(entrez)
View(acc_lookup)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
acc_type
View(acc_lookup)
View(entrez)
temp = acc_lookup %>% dplyr::left_join(entrez, by = "uniprot_acc")
acc_type == "uniprot_id"
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
normPSM(
group_psm_by = pep_seq_mod,
# group_pep_by = gene,
group_pep_by = prot_acc,
fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_mm_2014_07.fasta"),
# fasta = c("~\\proteoQ\\dbs\\fasta\\uniprot\\uniprot_2016_10.fasta"),
entrez = c("~\\proteoQ\\dbs\\entrez\\uniprot_entrez_hs.rds", "~\\proteoQ\\dbs\\entrez\\uniprot_entrez_mm.rds"),
rptr_intco = 1000,
rm_craps = TRUE,
rm_krts = TRUE,
rm_outliers = FALSE,
annot_kinases = TRUE,
plot_rptr_int = TRUE,
plot_log2FC_cv = TRUE,
use_lowercase_aa = TRUE,
# in-call filtration
filter_pep_expect = expr(pep_expect <= .1),
)
str(acc_lookup)
foo_combine_codes <- function () {
filepath <- file.path("C:\\Results\\R\\proteoQ\\R")
filenames <- dir(filepath, pattern = ".R$")
dir.create(file.path(filepath, "temp"))
map(file.path(filepath, filenames), readLines) %>%
reduce(`c`, init = NULL) %>%
writeLines(file.path(filepath, "temp\\all.R"))
}
foo_combine_codes()

dots
source('C:/Results/R/proteoQ/R/New folder/proteoQ-hm temp.R')
?pheatmap
?prnEucDist
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnEucDist
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnEucDist
?pepEucDist
?pepHM
?pepEucDist
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnEucDist
?pepEucDist
?extract_psm_raws
?prnMDS
?prnGSPA
?prepGO
prnGSPA(
impute_na = FALSE,
pval_cutoff = 5E-2, # protein pVal threshold
logFC_cutoff = log2(1.2), # protein log2FC threshold
gspval_cutoff = 5E-2, # gene-set threshold
gslogFC_cutoff = log2(1.2), # gene-set log2FC threshold
gset_nms = c("go_sets", "c2_msig"),
)
gspaMap(
show_labels = TRUE,
gspval_cutoff = 5E-3,
gslogFC_cutoff = log2(1.2),
# topn = 100,
gset_nms = c("go_sets"),
show_sig = pVal,
xco = 1.2, # position of two vertical lines for FC
yco = 0.05, # position of a horizental line for pVal
)
prepGO(
species = human,
db_path = "~\\proteoQ\\dbs\\go",
gaf_url = "http://current.geneontology.org/annotations/goa_human.gaf.gz",
obo_url = "http://purl.obolibrary.org/obo/go/go-basic.obo",
filename = go_hs.rds,
)
prepGO(
species = mouse,
db_path = "~\\proteoQ\\dbs\\go",
gaf_url = "http://current.geneontology.org/annotations/mgi.gaf.gz",
obo_url = "http://purl.obolibrary.org/obo/go/go-basic.obo",
filename = go_mm.rds,
)
?prepMSig
knitr::opts_chunk$set(
collapse = TRUE,
out.width='.40\\linewidth',
fig.width=3,
fig.height=3,
fig.show='hold',
fig.align='center',
comment = "#>"
)
prepMSig(
msig_url = "https://data.broadinstitute.org/gsea-msigdb/msigdb/release/7.0/c2.all.v7.0.entrez.gmt",
species = human,
db_path = "~\\proteoQ\\dbs\\msig",
filename = msig_hs.rds,
)
prepMSig(
msig_url = "https://data.broadinstitute.org/gsea-msigdb/msigdb/release/7.0/c2.all.v7.0.entrez.gmt",
species = mouse,
ortho_mart = mmusculus_gene_ensembl,
db_path = "~\\proteoQ\\dbs\\msig",
filename = msig_mm.rds,
)
prepMSig(
# msig_url = "https://data.broadinstitute.org/gsea-msigdb/msigdb/release/7.0/c2.all.v7.0.entrez.gmt",
species = human,
# db_path = "~\\proteoQ\\dbs\\msig",
filename = msig_hs.rds,
)
prepMSig(
# msig_url = "https://data.broadinstitute.org/gsea-msigdb/msigdb/release/7.0/c2.all.v7.0.entrez.gmt",
species = mouse,
# ortho_mart = mmusculus_gene_ensembl,
# db_path = "~\\proteoQ\\dbs\\msig",
filename = msig_mm.rds,
)
head(readRDS(file.path("~\\proteoQ\\dbs\\msig", "msig_hs.rds")))
head(readRDS(file.path("~\\proteoQ\\dbs\\msig", "msig_mm.rds")))
prnGSPA(
impute_na = FALSE,
pval_cutoff = 5E-2,
logFC_cutoff = log2(1.2),
gspval_cutoff = 5E-2,
gslogFC_cutoff = log2(1.2),
gset_nms = c("~\\proteoQ\\dbs\\go\\go_hs.rds",
"~\\proteoQ\\dbs\\go\\go_mm.rds",
"~\\proteoQ\\dbs\\msig\\msig_hs.rds",
"~\\proteoQ\\dbs\\msig\\msig_mm.rds"),
)
gspaMap(
gset_nms = c("~\\proteoQ\\dbs\\go\\go_hs.rds",
"~\\proteoQ\\dbs\\go\\go_mm.rds",
"~\\proteoQ\\dbs\\msig\\msig_hs.rds",
"~\\proteoQ\\dbs\\msig\\msig_mm.rds"),
impute_na = FALSE,
show_labels = FALSE,
gspval_cutoff = 5E-2,
gslogFC_cutoff = log2(1.2),
show_sig = pVal,
xco = 1.2,
yco = 0.05,
)
unlink(file.path(dat_dir, "Protein\\GSPA"), recursive = TRUE, force = TRUE)
prnGSPA(
impute_na = FALSE,
pval_cutoff = 5E-2,
logFC_cutoff = log2(1.2),
gspval_cutoff = 5E-2,
gslogFC_cutoff = log2(1.2),
gset_nms = c("~\\proteoQ\\dbs\\go\\go_hs.rds",
"~\\proteoQ\\dbs\\go\\go_mm.rds",
"~\\proteoQ\\dbs\\msig\\msig_hs.rds",
"~\\proteoQ\\dbs\\msig\\msig_mm.rds"),
)
gspaMap(
gset_nms = c("~\\proteoQ\\dbs\\go\\go_hs.rds",
"~\\proteoQ\\dbs\\go\\go_mm.rds",
"~\\proteoQ\\dbs\\msig\\msig_hs.rds",
"~\\proteoQ\\dbs\\msig\\msig_mm.rds"),
impute_na = FALSE,
show_labels = FALSE,
gspval_cutoff = 5E-2,
gslogFC_cutoff = log2(1.2),
show_sig = pVal,
xco = 1.2,
yco = 0.05,
)
prnGSPAHM(
annot_cols = "ess_idx",
annot_colnames = "Eset index",
filename = "all_sets.png",
)
prnGSPAHM(
filter2_by = exprs(distance <= .33),
filter2_sp = exprs(start_with_str("hs", term)),
annot_cols = "ess_idx",
annot_colnames = "Eset index",
annot_rows = "ess_size",
filename = show_human_redundancy.png,
)
devtools::install("C:\\Results\\R\\proteoQ")
devtools::install("C:\\Results\\R\\proteoQ")
?plot_metaNMF
library(proteoQ)
?plot_metaNMF
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?proteo_hm
proteo_hm(
df = Protein_delta.txt,
id = gene,
df_meta = hm_meta.xlsx,
filepath = file.path(dat_dir, "Protein\\Heatmap"),
filename = "kin_delta.png",
complete_cases = FALSE,
annot_cols = NULL,
annot_colnames = NULL,
annot_rows = c("kin_class"),
cluster_rows = FALSE,
xmin = -1,
xmax = 1,
xmargin = .1,
width = 5,
height = 12,
arrange2_by = exprs(kin_class, gene),
)
dat_dir <- "C:\\Results\\Mutch\\R394"
proteo_hm(
df = Protein_delta.txt,
id = gene,
df_meta = hm_meta.xlsx,
filepath = file.path(dat_dir, "Protein\\Heatmap"),
filename = "kin_delta.png",
complete_cases = FALSE,
annot_cols = NULL,
annot_colnames = NULL,
annot_rows = c("kin_class"),
cluster_rows = FALSE,
xmin = -1,
xmax = 1,
xmargin = .1,
width = 5,
height = 12,
arrange2_by = exprs(kin_class, gene),
)
df_meta
View(df)
stop("Provide sample IDs under either column `Sample_ID` in the Excel indicated by `df_meta`
or in the vector of `sample_ids`.", call. = FALSE)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
proteo_hm(
df = Protein_delta.txt,
id = gene,
df_meta = hm_meta.xlsx,
sample_ids = c("Delta_006", "Delta_007", "Delta_008", "Delta_012"),
filepath = file.path(dat_dir, "Protein\\Heatmap"),
filename = "kin_delta.png",
complete_cases = FALSE,
annot_cols = NULL,
annot_colnames = NULL,
annot_rows = c("kin_class"),
cluster_rows = FALSE,
xmin = -1,
xmax = 1,
xmargin = .1,
width = 5,
height = 12,
arrange2_by = exprs(kin_class, gene),
)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
proteo_hm(
df = Protein_delta.txt,
id = gene,
df_meta = hm_meta.xlsx,
sample_ids = c("Delta_006", "Delta_007", "Delta_008", "Delta_012"),
filepath = file.path(dat_dir, "Protein\\Heatmap"),
filename = "kin_delta.png",
complete_cases = FALSE,
annot_cols = NULL,
annot_colnames = NULL,
annot_rows = c("kin_class"),
cluster_rows = FALSE,
xmin = -1,
xmax = 1,
xmargin = .1,
width = 5,
height = 12,
arrange2_by = exprs(kin_class, gene),
)
proteo_hm(
df = Protein_delta.txt,
id = gene,
df_meta = hm_meta.xlsx,
sample_ids = c("Delta_006", "Delta_007", "Delta_008", "Delta_012"),
filepath = file.path(dat_dir, "Protein\\Heatmap"),
filename = "kin_delta.png",
complete_cases = FALSE,
annot_cols = NULL,
annot_colnames = NULL,
annot_rows = c("kin_class"),
cluster_rows = FALSE,
xmin = -1,
xmax = 1,
xmargin = .1,
width = 3,
height = 16,
arrange2_by = exprs(kin_class, gene),
)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
dat_dir <- "~\\proteoQ\\examples"
load_expts()
?prepGO
prepGO
prepGO()
species
prepGO()
abbr_species
prepGO(
species = mouse,
obo_url = "http://current.geneontology.org/ontology/subsets/goslim_mouse.obo",
filename = mm_slim.rds,
)
prepGO(
species = mouse,
obo_url = "http://current.geneontology.org/ontology/subsets/goslim_mouse.obo",
filename = mm_slim.rds,
)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
prepGO(human)
prepGO(human)
filename <- rlang::enexpr(filename)
if (is.null(filename)) {
fn_prefix <- paste0("go_", abbr_species_lwr)
filename <- paste0(fn_prefix, ".rds")
} else {
filename <- rlang::as_string(filename)
fn_prefix <- gsub("\\.[^.]*$", "", filename)
fn_suffix <- gsub("^.*\\.([^.]*)$", "\\1", filename)
if (fn_prefix == fn_suffix) stop("No '.' in the file name.", call. = FALSE)
if (fn_suffix != "rds") stop("File extension must be `.rds`.", call. = FALSE)
filename <- paste0(fn_prefix, ".rds")
}
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
prepGO(human)
filename
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
prepGO(human)
prepGO(mouse)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
dat_dir <- "~\\proteoQ\\examples"
load_expts()
prepGO(mouse)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
dat_dir <- "~\\proteoQ\\examples"
load_expts()
prepGO(
species = mouse,
obo_url = "http://current.geneontology.org/ontology/subsets/goslim_mouse.obo",
filename = mm_slim.rds,
)
library(org.Ce.eg.db)
prepGO(
# species = worm,
abbr_species = Ce,
gaf_url = "http://current.geneontology.org/annotations/wb.gaf.gz",
obo_url = "http://purl.obolibrary.org/obo/go/go-basic.obo",
)
gsets <- readRDS(file.path("~\\proteoQ\\dbs\\go", "mm_slim.rds"))
head(gsets)
rm(gsets)
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
dat_dir <- "~\\proteoQ\\examples"
load_expts()
library(org.Ce.eg.db)
prepGO(
# species = worm,
abbr_species = Ce,
gaf_url = "http://current.geneontology.org/annotations/wb.gaf.gz",
obo_url = "http://purl.obolibrary.org/obo/go/go-basic.obo",
)
devtools::install(pkg  = "C:\\Results\\R\\proteoq")
?cmdscale
?prnEucDist
?pheatmap
?prnEucDist
?prnMDS
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnMDS
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnMDS
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnMDS
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnMDS
?prepMSig
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prepMSig
?prepGO
?prnHM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?standPep
pepHM(
col_select = BI_1,
xmin = -2,
xmax = 2,
xmargin = 0.1,
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
cluster_rows = TRUE,
annot_rows = c("gene"),
show_rownames = TRUE,
show_colnames = TRUE,
fontsize_row = 10,
cellwidth = 12,
cellheight = 12,
width = 18,
height = 12,
filter_by = exprs(gene %in% c("GAPDH")),
filename = "mcGAPDH.png",
)
pepHM(
# col_select = BI_1,
xmin = -2,
xmax = 2,
xmargin = 0.1,
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
cluster_rows = TRUE,
annot_rows = c("gene"),
show_rownames = TRUE,
show_colnames = TRUE,
fontsize_row = 10,
cellwidth = 12,
cellheight = 12,
width = 18,
height = 12,
filter_by = exprs(gene %in% c("GAPDH")),
filename = "mcGAPDH_all.png",
)
?prnHM
devtools::document(pkg  = "C:\\Results\\R\\proteoq")
?prnEucDist
pepEucDist(
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
width = 14,
height = 12,
)
prnEucDist(
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
# arguments for `pheatmap`
display_numbers = TRUE,
number_color = "grey30",
number_format = "%.1f",
clustering_distance_rows = "euclidean",
clustering_distance_cols = "euclidean",
fontsize = 16,
fontsize_row = 20,
fontsize_col = 20,
fontsize_number = 8,
cluster_rows = TRUE,
show_rownames = TRUE,
show_colnames = TRUE,
border_color = "grey60",
cellwidth = 24,
cellheight = 24,
filter_prots_by = exprs(prot_n_pep >= 5),
filename = "filter.png",
)
# (`W16_vs_W2.pVal (W16-W2)` now a column key)
prnEucDist(
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
width = 14,
height = 12,
filter_by = exprs(`W16_vs_W2.pVal (W16-W2)` <= 1e-6),
filename = pvalcutoff.png,
)
# analogous peptides
pepEucDist(
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
width = 14,
height = 12,
filter_by = exprs(`W16_vs_W2.pVal (W16-W2)` <= 1e-6),
filename = pvalcutoff.png,
)
prnEucDist(
impute_na = TRUE,
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
width = 14,
height = 12,
filter_by = exprs(`W16_vs_W2.pVal (W16-W2)` <= 1e-6),
filename = filpvals_impna.png,
)
# analogous peptides
pepEucDist(
impute_na = TRUE,
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
width = 14,
height = 12,
filter_by = exprs(`W16_vs_W2.pVal (W16-W2)` <= 1e-6),
filename = filpvals_impna.png,
)
pepEucDist(
impute_na = TRUE,
annot_cols = c("Group", "Color", "Alpha", "Shape"),
annot_colnames = c("Group", "Lab", "Batch", "WHIM"),
width = 14,
height = 12,
filter_by = exprs(`W16_vs_W2.pVal (W16-W2)` <= 1e-6),
color = colorRampPalette(c("blue", "white", "red"))(500),
filename = my_palette.png,
)
fun <- function(x, y, z) {
.Deprecated("sum")
x + y + z
}
fun(1,2)
?Deprecated
?prnHM
?hclust
devtools::install("C:\\Results\\R\\proteoQ")
knitr::opts_chunk$set(
collapse = TRUE,
out.width='.40\\linewidth',
fig.width=3,
fig.height=3,
fig.show='hold',
fig.align='center',
comment = "#>"
)
img_daemon <- "images\\mascot\\mascot_daemon.png"
knitr::include_graphics(c(img_daemon))
img_export <- "images\\mascot\\mascot_export.png"
knitr::include_graphics(c(img_export))
library(tinytex)
update.packages(ask = FALSE, checkBuilt = TRUE)
tinytex::tlmgr_update()  # update LaTeX packages
options(tinytex.verbose = TRUE)
devtools::install("C:\\Results\\R\\proteoQ")
devtools::install("C:\\Results\\R\\proteoQ")
devtools::install("C:\\Results\\R\\proteoQ")
devtools::install("C:\\Results\\R\\proteoQ")
devtools::install("C:\\Results\\R\\proteoQ")
setwd("C:\\Results\\R\\proteoQ")
library(devtools)
?check
check(vignettes = FALSE)
document()
document()
document()
warnings()
document()
warnings()
document()
warnings()
check()
install()
